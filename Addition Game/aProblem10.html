<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Math Game: Addition Game: Problem 10</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="aProblem10.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Kalam:700&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<body class="body">

        <div class="content">

            <button type="button" id="op1"></button>
            <button type="button" id="op2"></button>
            <script>
                var one, two, result, question;    
                one = Math.floor((Math.random() * 11));    
                two = Math.floor((Math.random() * 11));    
                result = one + two;
                document.getElementById("op1").innerHTML = one;
                document.getElementById("op2").innerHTML = two;
            </script>

            <input type="text" class="textBox" name="answer" id="answer"/>
            <button type="button" id="checkButton" class="checkButton" onclick="check()"></button>
            <button type="button" id="nextButton" class="nextButton" onclick="go()"></button>

            <span id="msg"></span>
            <span id="go"></span>

            <script>
                var checked;
                function check() {
                    checked = true;
                    var answer, msg;
                    answer = document.getElementById('answer');
                    if (answer.value == result) {
                        msg = "CORRECT!";
                        newScore = JSON.parse(window.localStorage.getItem('score'))
                        newScore+= 1; //adds 1 to overall score stored in variable score
                        window.localStorage.setItem('score', newScore); //stores increased value back into localStorage
                    } else {
                        msg = "INCORRECT, " + one + " + " + two + " = " + result;
                    }
                    document.getElementById("msg").innerHTML = msg;
                }

                function go(){
                    if(checked == true) {
                        $(document).ready(function () {
                        createCookie("Score", window.localStorage.getItem('score'), "10");
                        createCookie("GM", "Addition", "0.000173611");
                      });

                    function createCookie(name, value, days) {
                        var expires;
                        if (days) {
                            var date = new Date();
                            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
                            expires = "; expires=" + date.toGMTString();
                        } else {
                            expires = "";
                        }
                    document.cookie = escape(name) + "=" + escape(value) + expires + "; path=/";
                    }
                      window.location.href="../DataBase/add_score_addition.php";
                    }
                }
            </script>

        </div>
</body>

</html>
